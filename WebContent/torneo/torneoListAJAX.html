<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script type="text/javascript" src="../js/jquery-3.1.1.js"></script>
<script type="text/javascript">

// chiamo la ready function che verrà eseguita dopo il caricamento di tutti gli elementi del DOM

$(function()
{
	// eseguo la chiamata ajax per recuperare i dati
	$.ajax(
	{
		type: "GET",
		url: "../json/torneiJSON.action",	// chiamata che mi da i dati in formato json
		dataType: "json",
		success: function(dati)
				{
					var tornei = dati.tornei;
					ris = "<table align='center' border='1'>";
					ris += "<thead>";
					ris += "<th>Nome Torneo</th><th>Anno Edizione</th>";
					ris += "</thead>";
					ris += "<tbody>";
					for (i = 0; i < tornei.length; i++)
					{
						ris += "<tr><td>" + tornei[i].nome + "</td>";
						ris += "<td>" + tornei[i].annoEdizione + "</td></tr>";
					}
					ris += "</tbody>";
					ris += "</table>";
					$("#target").html(ris);
				},
		error: function(){alert("Chiamata fallita!");}
	});	
});
</script>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Lista Tornei</title>
</head>
<body>
<div id="target"></div>
</body>
</html>